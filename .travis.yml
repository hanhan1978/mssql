language: cpp
compiler:
  - clang
before_install:
 - sudo apt-get update
 - sudo apt-get install freetds-dev 
 - aclocal --force
 - autoreconf -ivf .
 - "./configure && make && sudo make install"
 - "cd $TRAVIS_BUILD_DIR/test && svn checkout http://googletest.googlecode.com/svn/trunk gtest && cd gtest && mkdir build && cd build && cmake .. && make"
 - "cd $TRAVIS_BUILD_DIR/test && svn checkout http://googlemock.googlecode.com/svn/trunk gmock && cd gmock && autoreconf -fvi && cd make && make"
 - "cd $TRAVIS_BUILD_DIR/test && make"
#before_script:
# - pwd
# - cd samples/STL/
# - pwd
# - which sh
script: 
  - "$TRAVIS_BUILD_DIR/test/unit_test" 
branches:
  only:
    - master
notifications:
  recipients:
    - ryo.tomidokoro@gmail.com 
  email:
    on_success: change
    on_failure: always
